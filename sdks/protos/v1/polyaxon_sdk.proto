syntax = "proto3";

package v1;

import "google/api/annotations.proto";
import "google/protobuf/empty.proto";
import "protoc-gen-swagger/options/annotations.proto";

import "v1/agent.proto";
import "v1/artifacts_store.proto";
import "v1/dashboard.proto";
import "v1/host_access.proto";
import "v1/k8s_resource.proto";
import "v1/base.proto";
import "v1/code_ref.proto";
import "v1/run.proto";
import "v1/organization.proto";
import "v1/project.proto";
import "v1/version.proto";
import "v1/auth.proto";
import "v1/run_profile.proto";
import "v1/user.proto";
import "v1/search.proto";
import "v1/status.proto";
import "v1/team.proto";
import "v1/schemas/all.proto";

option (grpc.gateway.protoc_gen_swagger.options.openapiv2_swagger) = {
	info: {
		title: "Polyaxon sdk";
		version: "1.0.0";
		contact: {
			name: "Polyaxon sdk";
			url: "https://github.com/polyaxon/polyaxon";
			email: "contact@polyaxon.com";
        };
    };
    schemes: HTTP;
	schemes: HTTPS;
    consumes: "application/json";
    produces: "application/json";
    security_definitions: {
		security: {
			key: "ApiKey";
			value: {
				type: TYPE_API_KEY;
				in: IN_HEADER;
				name: "Authorization";
			}
        }
    };
	security: {
		security_requirement: {
			key: "ApiKey";
			value: {};
        }
	};
    responses: {
		key: "204";
		value: {
            description: "No content.";
		}
	}
    responses: {
		key: "403";
		value: {
			description: "You don't have permission to access the resource.";
		}
	}
    responses: {
		key: "404";
		value: {
			description: "Resource does not exist.";
		}
	}
};


service RunsV1 {
    // List bookmarked runs for user
    rpc ListBookmarkedRuns(UserResourceListRequest) returns (ListRunsResponse) {
        option (google.api.http) = {
            get: "/api/v1/bookmarks/{user}/runs"
        };
    }

    // List archived runs for user
    rpc ListArchivedRuns(UserResourceListRequest) returns (ListRunsResponse) {
        option (google.api.http) = {
            get: "/api/v1/archives/{user}/runs"
        };
    }

    // List runs
    rpc ListRuns(ProjectResourceListRequest) returns (ListRunsResponse) {
        option (google.api.http) = {
            get: "/api/v1/{owner}/{project}/runs"
        };
    }

    // Create new run
    rpc CreateRun(RunBodyRequest) returns (Run) {
        option (google.api.http) = {
            post: "/api/v1/{owner}/{project}/runs"
            body: "run"
        };
    }

    // Get run
    rpc GetRun(ProjectEntityResourceRequest) returns (Run) {
        option (google.api.http) = {
            get: "/api/v1/{owner}/{project}/runs/{uuid}"
        };
    }

    // Update run
    rpc UpdateRun(RunBodyRequest) returns (Run) {
        option (google.api.http) = {
            put: "/api/v1/{owner}/{project}/runs/{run.uuid}"
            body: "run"
        };
    }

    // Patch run
    rpc PatchRun(RunBodyRequest) returns (Run) {
        option (google.api.http) = {
            patch: "/api/v1/{owner}/{project}/runs/{run.uuid}"
            body: "run"
        };
    }

    // Delete run
    rpc DeleteRun(ProjectEntityResourceRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            delete: "/api/v1/{owner}/{project}/runs/{uuid}"
        };
    }

    // Delete runs
    rpc DeleteRuns(ProjectResourceUuidsBodyRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            delete: "/api/v1/{owner}/{project}/runs/delete"
            body: "uuids"
        };
    }

    // Stop run
    rpc StopRun(ProjectEntityResourceRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            post: "/api/v1/{owner}/{project}/runs/{uuid}/stop"
        };
    }

    // Stop runs
    rpc StopRuns(ProjectResourceUuidsBodyRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            post: "/api/v1/{owner}/{project}/runs/stop"
            body: "uuids"
        };
    }

    // Invalidate run
    rpc InvalidateRun(ProjectEntityResourceRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            post: "/api/v1/{owner}/{project}/runs/{uuid}/invalidate"
            body: "*"
        };
    }

    // Invalidate runs
    rpc InvalidateRuns(ProjectResourceUuidsBodyRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            post: "/api/v1/{owner}/{project}/runs/invalidate"
            body: "uuids"
        };
    }

     // Restart run with copy
     rpc CopyRun(EntityRunBodyRequest) returns (Run) {
        option (google.api.http) = {
            post: "/api/v1/{entity.owner}/{entity.project}/runs/{entity.uuid}/copy"
            body: "run"
        };
    }

    // Restart run
    rpc RestartRun(EntityRunBodyRequest) returns (Run) {
        option (google.api.http) = {
            post: "/api/v1/{entity.owner}/{entity.project}/runs/{entity.uuid}/restart"
            body: "run"
        };
    }

    // Resume run
    rpc ResumeRun(EntityRunBodyRequest) returns (Run) {
        option (google.api.http) = {
            post: "/api/v1/{entity.owner}/{entity.project}/runs/{entity.uuid}/resume"
            body: "run"
        };
    }

    // Archive run
    rpc ArchiveRun(ProjectEntityResourceRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            post: "/api/v1/{owner}/{project}/runs/{uuid}/archive"
        };
    }

    // Restore run
    rpc RestoreRun(ProjectEntityResourceRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            post: "/api/v1/{owner}/{project}/runs/{uuid}/restore"
        };
    }

    // Bookmark run
    rpc BookmarkRun(ProjectEntityResourceRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            post: "/api/v1/{owner}/{project}/runs/{uuid}/bookmark"
        };
    }

    // Unbookmark run
    rpc UnbookmarkRun(ProjectEntityResourceRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            delete: "/api/v1/{owner}/{project}/runs/{uuid}/unbookmark"
        };
    }

    // Start run tensorboard
    rpc StartRunTensorboard(ProjectEntityResourceRequest) returns (google.protobuf.Empty) {  // TODO: should be a tensorboard object
        option (google.api.http) = {
            post: "/api/v1/{owner}/{project}/runs/{uuid}/tensorboard/start"
            body: "*"
        };
    }

    // Stop run tensorboard
    rpc StopRunTensorboard(ProjectEntityResourceRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            post: "/api/v1/{owner}/{project}/runs/{uuid}/tensorboard/stop"
        };
    }

    // Get run status
    rpc GetRunStatuses(ProjectEntityResourceRequest) returns (Status) {
        option (google.api.http) = {
            get: "/api/v1/{owner}/{project}/runs/{uuid}/statuses"
        };
    }

    // Create new run status
    rpc CreateRunStatus(EntityStatusBodyRequest) returns (Status) {
        option (google.api.http) = {
            post: "/api/v1/{owner}/{project}/runs/{uuid}/statuses"
            body: "*"
        };
    }

    // Get run code ref
    rpc CreateRunCodeRef(CodeRefBodyRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            post: "/api/v1/{entity.owner}/{entity.project}/runs/{entity.uuid}/coderefs"
            body: "coderef"
        };
    }

    // Impersonate run token
    rpc ImpersonateToken(ProjectEntityResourceRequest) returns (Auth) {
        option (google.api.http) = {
            post: "/api/v1/{owner}/{project}/runs/{uuid}/impersonate"
        };
    }

    // Get run logs list
    rpc GetRunLogsTree(RunArtifactRequest) returns (ArtifactTreeResponse) {
        option (google.api.http) = {
            get: "/api/v1/{owner}/{project}/runs/{uuid}/logs/tree"
        };
    }

    // Get run artifacts list
    rpc GetRunArtifactsTree(RunArtifactRequest) returns (ArtifactTreeResponse) {
        option (google.api.http) = {
            get: "/api/v1/{owner}/{project}/runs/{uuid}/artifacts/tree"
        };
    }

    // Get Run settings
    rpc GetRunSettings(ProjectEntityResourceRequest) returns (RunSettings) {
        option (google.api.http) = {
            get: "/api/v1/{owner}/{project}/runs/{uuid}/settings"
        };
    }
}

// Service to manage project
service ProjectsV1 {
    // List projects
    rpc ListProjects(OwnerResourceListRequest) returns (ListProjectsResponse) {
        option (google.api.http) = {
            get: "/api/v1/{owner}/projects/list"
        };
    }

    // Create new project
    rpc CreateProject(ProjectBodyRequest) returns (Project) {
        option (google.api.http) = {
            post: "/api/v1/{owner}/projects/create"
            body: "project"
        };
    }

    // List project names
    rpc ListProjectNames(OwnerResourceListRequest) returns (ListProjectsResponse) {
        option (google.api.http) = {
            get: "/api/v1/{owner}/projects/names"
        };
    }

    // List bookmarked projects for user
    rpc ListBookmarkedProjects(UserResourceListRequest) returns (ListProjectsResponse) {
        option (google.api.http) = {
            get: "/api/v1/bookmarks/{user}/projects"
        };
    }

    // List archived projects for user
    rpc ListArchivedProjects(UserResourceListRequest) returns (ListProjectsResponse) {
        option (google.api.http) = {
            get: "/api/v1/archives/{user}/projects"
        };
    }

    // Get project
    rpc GetProject(ProjectResourceRequest) returns (Project) {
        option (google.api.http) = {
            get: "/api/v1/{owner}/{project}"
        };
    }

    // Update project
    rpc UpdateProject(ProjectBodyRequest) returns (Project) {
        option (google.api.http) = {
            put: "/api/v1/{owner}/{project.name}"
            body: "project"
        };
    }

    // Patch project
    rpc PatchProject(ProjectBodyRequest) returns (Project) {
        option (google.api.http) = {
            patch: "/api/v1/{owner}/{project.name}"
            body: "project"
        };
    }

    // Delete project
    rpc DeleteProject(ProjectResourceRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            delete: "/api/v1/{owner}/{project}"
        };
    }

    // Archive project
    rpc ArchiveProject(ProjectResourceRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            post: "/api/v1/{owner}/{project}/archive"
        };
    }

    // Restore project
    rpc RestoreProject(ProjectResourceRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            post: "/api/v1/{owner}/{project}/restore"
        };
    }

    // Bookmark project
    rpc BookmarkProject(ProjectResourceRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            post: "/api/v1/{owner}/{project}/bookmark"
        };
    }

    // Unbookmark project
    rpc UnbookmarkProject(ProjectResourceRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            delete: "/api/v1/{owner}/{project}/unbookmark"
        };
    }

    // Enable project CI
    rpc EnableProjectCI(ProjectResourceRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            post: "/api/v1/{owner}/{project}/ci"
        };
    }

    // Disbale project CI
    rpc DisableProjectCI(ProjectResourceRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            delete: "/api/v1/{owner}/{project}/ci"
        };
    }

    // Get Project settings
    rpc GetProjectSettings(ProjectResourceRequest) returns (ProjectSettings) {
        option (google.api.http) = {
            get: "/api/v1/{owner}/{project}/settings"
        };
    }

    // Update project settings
    rpc UpdateProjectSettings(ProjectSettingsBodyRequest) returns (ProjectSettings) {
        option (google.api.http) = {
            put: "/api/v1/{owner}/{project}/settings"
            body: "settings"
        };
    }

    // Patch project settings
    rpc PatchProjectSettings(ProjectSettingsBodyRequest) returns (ProjectSettings) {
        option (google.api.http) = {
            patch: "/api/v1/{owner}/{project}/settings"
            body: "settings"
        };
    }

    // Get project teams
    rpc GetProjectTeams(ProjectResourceRequest) returns (ProjectTeams) {
        option (google.api.http) = {
            get: "/api/v1/{owner}/{project}/teams"
        };
    }

    // Update project teams
    rpc UpdateProjectTeams(ProjectTeamsBodyRequest) returns (ProjectTeams) {
        option (google.api.http) = {
            put: "/api/v1/{owner}/{project}/teams"
            body: "teams"
        };
    }

    // Patch project teams
    rpc PatchProjectTeams(ProjectTeamsBodyRequest) returns (ProjectTeams) {
        option (google.api.http) = {
            patch: "/api/v1/{owner}/{project}/teams"
            body: "teams"
        };
    }
}

// Service to manage artifacts
service ArtifactsStoresV1 {

    // List artifact stores names
    rpc ListArtifactsStoreNames(OwnerResourceListRequest) returns (ListArtifactsStoresResponse) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/artifacts_stores/names"
        };
    }

    // List artifact stores
    rpc ListArtifactsStores(OwnerResourceListRequest) returns (ListArtifactsStoresResponse) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/artifacts_stores"
        };
    }

    // Create artifact store
    rpc CreateArtifactsStore(ArtifactsStoreBodyRequest) returns (ArtifactsStore) {
        option (google.api.http) = {
            post: "/api/v1/orgs/{owner}/artifacts_stores"
            body: "artifact_store"
        };
    }

    // Get artifact store
    rpc GetArtifactsStore(OwnerEntityResourceRequest) returns (ArtifactsStore) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/artifacts_stores/{uuid}"
        };
    }

    // Update artifact store
    rpc UpdateArtifactsStore(ArtifactsStoreBodyRequest) returns (ArtifactsStore) {
        option (google.api.http) = {
            put: "/api/v1/orgs/{owner}/artifacts_stores/{artifact_store.uuid}"
            body: "artifact_store"
        };
    }

    // Patch artifact store
    rpc PatchArtifactsStore(ArtifactsStoreBodyRequest) returns (ArtifactsStore) {
        option (google.api.http) = {
            patch: "/api/v1/orgs/{owner}/artifacts_stores/{artifact_store.uuid}"
            body: "artifact_store"
        };
    }

    // Delete artifact store
    rpc DeleteArtifactsStore(OwnerEntityResourceRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            delete: "/api/v1/orgs/{owner}/artifacts_stores/{uuid}"
        };
    }
}

// Service to manage k8s config maps
service K8sConfigMapsV1 {

    // List k8s config map names
    rpc ListK8sConfigMapNames(OwnerResourceListRequest) returns (ListK8sResourcesResponse) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/k8s_config_maps/names"
        };
    }

    // List k8s config maps
    rpc ListK8sConfigMaps(OwnerResourceListRequest) returns (ListK8sResourcesResponse) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/k8s_config_maps"
        };
    }

    // Create k8s config map
    rpc CreateK8sConfigMap(K8sResourceBodyRequest) returns (K8sResource) {
        option (google.api.http) = {
            post: "/api/v1/orgs/{owner}/k8s_config_maps"
            body: "k8s_resource"
        };
    }

    // Get k8s config map
    rpc GetK8sConfigMap(OwnerEntityResourceRequest) returns (K8sResource) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/k8s_config_maps/{uuid}"
        };
    }

    // Update k8s config map
    rpc UpdateK8sConfigMap(K8sResourceBodyRequest) returns (K8sResource) {
        option (google.api.http) = {
            put: "/api/v1/orgs/{owner}/k8s_config_maps/{k8s_resource.uuid}"
            body: "k8s_resource"
        };
    }

    // Patch k8s config map
    rpc PatchK8sConfigMap(K8sResourceBodyRequest) returns (K8sResource) {
        option (google.api.http) = {
            patch: "/api/v1/orgs/{owner}/k8s_config_maps/{k8s_resource.uuid}"
            body: "k8s_resource"
        };
    }

    // Delete k8s config map
    rpc DeleteK8sConfigMap(OwnerEntityResourceRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            delete: "/api/v1/orgs/{owner}/k8s_config_maps/{uuid}"
        };
    }
}

// Service to manage k8s secrets
service K8sSecretsV1 {

    // List k8s secret names
    rpc ListK8sSecretNames(OwnerResourceListRequest) returns (ListK8sResourcesResponse) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/k8s_secrets/names"
        };
    }

    // List k8s secrets
    rpc ListK8sSecrets(OwnerResourceListRequest) returns (ListK8sResourcesResponse) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/k8s_secrets"
        };
    }

    // Create k8s secret
    rpc CreateK8sSecret(K8sResourceBodyRequest) returns (K8sResource) {
        option (google.api.http) = {
            post: "/api/v1/orgs/{owner}/k8s_secrets"
            body: "k8s_resource"
        };
    }

    // Get k8s secret
    rpc GetK8sSecret(OwnerEntityResourceRequest) returns (K8sResource) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/k8s_secrets/{uuid}"
        };
    }

    // Update k8s secret
    rpc UpdateK8sSecret(K8sResourceBodyRequest) returns (K8sResource) {
        option (google.api.http) = {
            put: "/api/v1/orgs/{owner}/k8s_secrets/{k8s_resource.uuid}"
            body: "k8s_resource"
        };
    }

    // Patch k8s secret
    rpc PatchK8sSecret(K8sResourceBodyRequest) returns (K8sResource) {
        option (google.api.http) = {
            patch: "/api/v1/orgs/{owner}/k8s_secrets/{k8s_resource.uuid}"
            body: "k8s_resource"
        };
    }

    // Delete k8s config map
    rpc DeleteK8sSecret(OwnerEntityResourceRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            delete: "/api/v1/orgs/{owner}/k8s_secrets/{uuid}"
        };
    }
}


// Service to manage regsitry access
service RegistryAccessesV1 {

    // List registry access names
    rpc ListRegistryAccessNames(OwnerResourceListRequest) returns (ListHostAccessesResponse) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/registry_accesses/names"
        };
    }

    // List registry access
    rpc ListRegistryAccesses(OwnerResourceListRequest) returns (ListHostAccessesResponse) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/registry_accesses"
        };
    }

    // Create registry access
    rpc CreateRegistryAccess(HostAccessBodyRequest) returns (HostAccess) {
        option (google.api.http) = {
            post: "/api/v1/orgs/{owner}/registry_accesses"
            body: "host_access"
        };
    }

    // Get registry access
    rpc GetRegistryAccess(OwnerEntityResourceRequest) returns (HostAccess) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/registry_accesses/{uuid}"
        };
    }

    // Update registry access
    rpc UpdateRegistryAccess(HostAccessBodyRequest) returns (HostAccess) {
        option (google.api.http) = {
            put: "/api/v1/orgs/{owner}/registry_accesses/{host_access.uuid}"
            body: "host_access"
        };
    }

    // Patch registry access
    rpc PatchRegistryAccess(HostAccessBodyRequest) returns (HostAccess) {
        option (google.api.http) = {
            patch: "/api/v1/orgs/{owner}/registry_accesses/{host_access.uuid}"
            body: "host_access"
        };
    }

    // Delete registry access
    rpc DeleteRegistryAccess(OwnerEntityResourceRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            delete: "/api/v1/orgs/{owner}/registry_accesses/{uuid}"
        };
    }
}

// Service to manage git access
service GitAccessesV1 {

    // List git access names
    rpc ListGitAccessNames(OwnerResourceListRequest) returns (ListHostAccessesResponse) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/git_accesses/names"
        };
    }

    // List git accesses
    rpc ListGitAccesses(OwnerResourceListRequest) returns (ListHostAccessesResponse) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/git_accesses"
        };
    }

    // Create git accesses
    rpc CreateGitAccess(HostAccessBodyRequest) returns (HostAccess) {
        option (google.api.http) = {
            post: "/api/v1/orgs/{owner}/git_accesses"
            body: "host_access"
        };
    }

    // Get git access
    rpc GetGitAccess(OwnerEntityResourceRequest) returns (HostAccess) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/git_accesses/{uuid}"
        };
    }

    // Update git access
    rpc UpdateGitAccess(HostAccessBodyRequest) returns (HostAccess) {
        option (google.api.http) = {
            put: "/api/v1/orgs/{owner}/git_accesses/{host_access.uuid}"
            body: "host_access"
        };
    }

    // Patch git access
    rpc PatchGitAccess(HostAccessBodyRequest) returns (HostAccess) {
        option (google.api.http) = {
            patch: "/api/v1/orgs/{owner}/git_accesses/{host_access.uuid}"
            body: "host_access"
        };
    }

    // Delete git access
    rpc DeleteGitAccess(OwnerEntityResourceRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            delete: "/api/v1/orgs/{owner}/git_accesses/{uuid}"
        };
    }
}


// Service to manage project searches
service ProjectSearchesV1 {

    // List project search names
    rpc ListProjectSearchNames(ProjectResourceListRequest) returns (ListSearchesResponse) {
        option (google.api.http) = {
            get: "/api/v1/{owner}/{project}/searches/names"
        };
    }

    // List project searches
    rpc ListProjectSearches(ProjectResourceListRequest) returns (ListSearchesResponse) {
        option (google.api.http) = {
            get: "/api/v1/{owner}/{project}/searches"
        };
    }

    // Create project search
    rpc CreateProjectSearch(ProjectSearchBodyRequest) returns (Search) {
        option (google.api.http) = {
            post: "/api/v1/{owner}/{project}/searches"
            body: "search"
        };
    }

    // Get project search
    rpc GetProjectSearch(ProjectEntityResourceRequest) returns (Search) {
        option (google.api.http) = {
            get: "/api/v1/{owner}/{project}/searches/{uuid}"
        };
    }

    // Update project search
    rpc UpdateProjectSearch(ProjectSearchBodyRequest) returns (Search) {
        option (google.api.http) = {
            put: "/api/v1/{owner}/{project}/searches/{search.uuid}"
            body: "search"
        };
    }

    // Patch project search
    rpc PatchProjectSearch(ProjectSearchBodyRequest) returns (Search) {
        option (google.api.http) = {
            patch: "/api/v1/{owner}/{project}/searches/{search.uuid}"
            body: "search"
        };
    }

    // Delete project search
    rpc DeleteProjectSearch(ProjectEntityResourceRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            delete: "/api/v1/{owner}/{project}/searches/{uuid}"
        };
    }

    // Promote project search
    rpc PromoteProjectSearch(ProjectEntityResourceRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            post: "/api/v1/{owner}/{project}/searches/{uuid}/promote"
        };
    }
}

// Service to manage searches
service SearchesV1 {

    // List search names
    rpc ListSearchNames(OwnerResourceListRequest) returns (ListSearchesResponse) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/searches/names"
        };
    }

    // List searches
    rpc ListSearches(OwnerResourceListRequest) returns (ListSearchesResponse) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/searches"
        };
    }

    // Create search
    rpc CreateSearch(SearchBodyRequest) returns (Search) {
        option (google.api.http) = {
            post: "/api/v1/orgs/{owner}/searches"
            body: "search"
        };
    }

    // Get search
    rpc GetSearch(OwnerEntityResourceRequest) returns (Search) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/searches/{uuid}"
        };
    }

    // Update search
    rpc UpdateSearch(SearchBodyRequest) returns (Search) {
        option (google.api.http) = {
            put: "/api/v1/orgs/{owner}/searches/{search.uuid}"
            body: "search"
        };
    }

    // Patch search
    rpc PatchSearch(SearchBodyRequest) returns (Search) {
        option (google.api.http) = {
            patch: "/api/v1/orgs/{owner}/searches/{search.uuid}"
            body: "search"
        };
    }

    // Delete search
    rpc DeleteSearch(OwnerEntityResourceRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            delete: "/api/v1/orgs/{owner}/searches/{uuid}"
        };
    }
}

// Service to manage project dashboards
service ProjectDashboardsV1 {

    // List project dashboard
    rpc ListProjectDashboardNames(ProjectResourceListRequest) returns (ListDashboardsResponse) {
        option (google.api.http) = {
            get: "/api/v1/{owner}/{project}/dashboards/names"
        };
    }

    // List project dashboards
    rpc ListProjectDashboards(ProjectResourceListRequest) returns (ListDashboardsResponse) {
        option (google.api.http) = {
            get: "/api/v1/{owner}/{project}/dashboards"
        };
    }

    // Create project dashboard
    rpc CreateProjectDashboard(ProjectDashboardBodyRequest) returns (Dashboard) {
        option (google.api.http) = {
            post: "/api/v1/{owner}/{project}/dashboards"
            body: "dashboard"
        };
    }

    // Get project dashboard
    rpc GetProjectDashboard(ProjectEntityResourceRequest) returns (Dashboard) {
        option (google.api.http) = {
            get: "/api/v1/{owner}/{project}/dashboards/{uuid}"
        };
    }

    // Update project dashboard
    rpc UpdateProjectDashboard(ProjectDashboardBodyRequest) returns (Dashboard) {
        option (google.api.http) = {
            put: "/api/v1/{owner}/{project}/dashboards/{dashboard.uuid}"
            body: "dashboard"
        };
    }

    // Patch project dashboard
    rpc PatchProjectDashboard(ProjectDashboardBodyRequest) returns (Dashboard) {
        option (google.api.http) = {
            patch: "/api/v1/{owner}/{project}/dashboards/{dashboard.uuid}"
            body: "dashboard"
        };
    }

    // Delete project dashboard
    rpc DeleteProjectDashboard(ProjectEntityResourceRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            delete: "/api/v1/{owner}/{project}/dashboards/{uuid}"
        };
    }

    // Promote project dashboard
    rpc PromoteProjectDashboard(ProjectDashboardBodyRequest) returns (Dashboard) {
        option (google.api.http) = {
            post: "/api/v1/{owner}/{project}/dashboards/{dashboard.uuid}/promote"
        };
    }
}


// Service to manage dashboards
service DashboardsV1 {

    // List dashboard names
    rpc ListDashboardNames(OwnerResourceListRequest) returns (ListDashboardsResponse) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/dashboards/names"
        };
    }

    // List dashboards
    rpc ListDashboards(OwnerResourceListRequest) returns (ListDashboardsResponse) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/dashboards"
        };
    }

    // Create dashboard
    rpc CreateDashboard(DashboardBodyRequest) returns (Dashboard) {
        option (google.api.http) = {
            post: "/api/v1/orgs/{owner}/dashboards"
            body: "dashboard"
        };
    }

    // Get dashboard
    rpc GetDashboard(OwnerEntityResourceRequest) returns (Dashboard) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/dashboards/{uuid}"
        };
    }

    // Update dashboard
    rpc UpdateDashboard(DashboardBodyRequest) returns (Dashboard) {
        option (google.api.http) = {
            put: "/api/v1/orgs/{owner}/dashboards/{dashboard.uuid}"
            body: "dashboard"
        };
    }

    // Patch dashboard
    rpc PatchDashboard(DashboardBodyRequest) returns (Dashboard) {
        option (google.api.http) = {
            patch: "/api/v1/orgs/{owner}/dashboards/{dashboard.uuid}"
            body: "dashboard"
        };
    }

    // Delete dashboard
    rpc DeleteDashboard(OwnerEntityResourceRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            delete: "/api/v1/orgs/{owner}/dashboards/{uuid}"
        };
    }
}

// Service to manage run profiles
service RunProfilesV1 {

// List run profiles names
    rpc ListRunProfileNames(OwnerResourceListRequest) returns (ListRunProfilesResponse) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/run_profiles/names"
        };
    }

    // List run profiles
    rpc ListRunProfiles(OwnerResourceListRequest) returns (ListRunProfilesResponse) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/run_profiles"
        };
    }

    // Create run profile
    rpc CreateRunProfile(RunProfileBodyRequest) returns (RunProfile) {
        option (google.api.http) = {
            post: "/api/v1/orgs/{owner}/run_profiles"
            body: "run_profile"
        };
    }

    // Get run profile
    rpc GetRunProfile(OwnerEntityResourceRequest) returns (RunProfile) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/run_profiles/{uuid}"
        };
    }

    // Update run profile
    rpc UpdateRunProfile(RunProfileBodyRequest) returns (RunProfile) {
        option (google.api.http) = {
            put: "/api/v1/orgs/{owner}/run_profiles/{run_profile.uuid}"
            body: "run_profile"
        };
    }

    // Patch run profile
    rpc PatchRunProfile(RunProfileBodyRequest) returns (RunProfile) {
        option (google.api.http) = {
            patch: "/api/v1/orgs/{owner}/run_profiles/{run_profile.uuid}"
            body: "run_profile"
        };
    }

    // Delete run profile
    rpc DeleteRunProfile(OwnerEntityResourceRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            delete: "/api/v1/orgs/{owner}/run_profiles/{uuid}"
        };
    }
}

// Service to manage agents
service AgentsV1 {

    // List agents names
    rpc ListAgentNames(OwnerResourceListRequest) returns (ListAgentsResponse) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/agents/names"
        };
    }

    // List agents
    rpc ListAgents(OwnerResourceListRequest) returns (ListAgentsResponse) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/agents"
        };
    }

    // Create agent
    rpc CreateAgent(AgentBodyRequest) returns (Agent) {
        option (google.api.http) = {
            post: "/api/v1/orgs/{owner}/agents"
            body: "agent"
        };
    }

    // Get agent
    rpc GetAgent(OwnerEntityResourceRequest) returns (Agent) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/agents/{uuid}"
        };
    }

    // Update agent
    rpc UpdateAgent(AgentBodyRequest) returns (Agent) {
        option (google.api.http) = {
            put: "/api/v1/orgs/{owner}/agents/{agent.uuid}"
            body: "agent"
        };
    }

    // Patch agent
    rpc PatchAgent(AgentBodyRequest) returns (Agent) {
        option (google.api.http) = {
            patch: "/api/v1/orgs/{owner}/agents/{agent.uuid}"
            body: "agent"
        };
    }

    // Delete agent
    rpc DeleteAgent(OwnerEntityResourceRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            delete: "/api/v1/orgs/{owner}/agents/{uuid}"
        };
    }
}


// Service to manage queues
service QueuesV1 {

    // List organization level queues names
    rpc ListOrganizationQueueNames(OwnerResourceListRequest) returns (ListQueuesResponse) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/queues/names"
        };
    }

    // List organization level queues
    rpc ListOrganizationQueues(OwnerResourceListRequest) returns (ListQueuesResponse) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/queues"
        };
    }

    // List queues names
    rpc ListQueueNames(AgentResourceListRequest) returns (ListQueuesResponse) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/agents/{agent}/queues/names"
        };
    }

    // List queues
    rpc ListQueues(AgentResourceListRequest) returns (ListQueuesResponse) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/agents/{agent}/queues"
        };
    }

    // Create queue
    rpc CreateQueue(QueueBodyRequest) returns (Agent) {
        option (google.api.http) = {
            post: "/api/v1/orgs/{owner}/agents/{agent}/queues"
            body: "queue"
        };
    }

    // Get queue
    rpc GetQueue(AgentEntityResourceRequest) returns (Queue) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/agents/{agent}/queues/{uuid}"
        };
    }

    // Update queue
    rpc UpdateQueue(QueueBodyRequest) returns (Queue) {
        option (google.api.http) = {
            put: "/api/v1/orgs/{owner}/agents/{queue.agent}/queues/{queue.uuid}"
            body: "queue"
        };
    }

    // Patch queue
    rpc PatchQueue(QueueBodyRequest) returns (Queue) {
        option (google.api.http) = {
            patch: "/api/v1/orgs/{owner}/agents/{queue.agent}/queues/{queue.uuid}"
            body: "queue"
        };
    }

    // Delete queue
    rpc DeleteQueue(AgentEntityResourceRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            delete: "/api/v1/orgs/{owner}/agents/{agent}/queues/{uuid}"
        };
    }
}


// Service to manage auth
service AuthV1 {
    // Login
    rpc Login(CredsBodyRequest) returns (Auth) {
        option (google.api.http) = {
            post: "/api/v1/users/token"
            body: "*"
        };
    }
}

// Service to get user level infotmation
service UsersV1 {
    // Get current user
    rpc GetUser(google.protobuf.Empty) returns (User) {
        option (google.api.http) = {
            get: "/api/v1/users"
        };
    }

}

// Service to get versions
service VersionsV1 {
    // Get versions
    rpc GetVersions(google.protobuf.Empty) returns (Versions) {
        option (google.api.http) = {
            get: "/api/v1/version"
        };
    }

    // Get log handler
    rpc GetLogHandler(google.protobuf.Empty) returns (LogHandler) {
        option (google.api.http) = {
            get: "/api/v1/log_handler"
        };
    }
}

// Service to manage organizations
service OrganizationsV1 {

    // List organizations names
    rpc ListOrganizationNames(google.protobuf.Empty) returns (ListOrganizationsResponse) {
        option (google.api.http) = {
            get: "/api/v1/orgs/names"
        };
    }

    // List organizations
    rpc ListOrganizations(google.protobuf.Empty) returns (ListOrganizationsResponse) {
        option (google.api.http) = {
            get: "/api/v1/orgs/list"
        };
    }

    // Create organization
    rpc CreateOrganization(Organization) returns (Organization) {
        option (google.api.http) = {
            post: "/api/v1/orgs/create"
            body: "*"
        };
    }

    // Get organization
    rpc GetOrganization(OwnerResourceRequest) returns (Organization) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}"
        };
    }

    // Update organization
    rpc UpdateOrganization(OrganizationBodyRequest) returns (Organization) {
        option (google.api.http) = {
            put: "/api/v1/orgs/{owner}"
            body: "organization"
        };
    }

    // Patch organization
    rpc PatchOrganization(OrganizationBodyRequest) returns (Organization) {
        option (google.api.http) = {
            patch: "/api/v1/orgs/{owner}"
            body: "organization"
        };
    }

    // Delete organization
    rpc DeleteOrganization(OwnerResourceRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            delete: "/api/v1/orgs/{owner}"
        };
    }

    // Get organization members
    rpc ListOrganizationMembers(OwnerResourceListRequest) returns (ListOrganizationMembersResponse) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/members"
        };
    }

    // Create organization member
    rpc CreateOrganizationMember(OrganizationMemberBodyRequest) returns (OrganizationMember) {
        option (google.api.http) = {
            post: "/api/v1/orgs/{owner}/members"
            body: "member"
        };
    }

    // Get organization member details
    rpc GetOrganizationMember(OrgMemeberResourceRequest) returns (OrganizationMember) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/members/{user}"
        };
    }

    // Update organization member
    rpc UpdateOrganizationMember(OrganizationMemberBodyRequest) returns (OrganizationMember) {
        option (google.api.http) = {
            put: "/api/v1/orgs/{owner}/members/{member.user}"
            body: "member"
        };
    }

    // Patch organization member
    rpc PatchOrganizationMember(OrganizationMemberBodyRequest) returns (OrganizationMember) {
        option (google.api.http) = {
            patch: "/api/v1/orgs/{owner}/members/{member.user}"
            body: "member"
        };
    }

    // Delete organization member details
    rpc DeleteOrganizationMember(OrgMemeberResourceRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            delete: "/api/v1/orgs/{owner}/members/{user}"
        };
    }
}


// Service to manage teams
service TeamsV1 {

    // List teams names
    rpc ListTeamNames(OwnerResourceListRequest) returns (ListTeamsResponse) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/teams/names"
        };
    }

    // List teams
    rpc ListTeams(OwnerResourceListRequest) returns (ListTeamsResponse) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/teams"
        };
    }

    // Create team
    rpc CreateTeam(TeamBodyRequest) returns (Team) {
        option (google.api.http) = {
            post: "/api/v1/orgs/{owner}/teams"
            body: "team"
        };
    }

    // Get team
    rpc GetTeam(TeamResourceRequest) returns (Team) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/teams/{team}"
        };
    }

    // Update team
    rpc UpdateTeam(TeamBodyRequest) returns (Team) {
        option (google.api.http) = {
            put: "/api/v1/orgs/{owner}/teams/{team.name}"
            body: "team"
        };
    }

    // Patch team
    rpc PatchTeam(TeamBodyRequest) returns (Team) {
        option (google.api.http) = {
            patch: "/api/v1/orgs/{owner}/teams/{team.name}"
            body: "team"
        };
    }

    // Delete team
    rpc DeleteTeam(TeamResourceRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            delete: "/api/v1/orgs/{owner}/teams/{team}"
        };
    }

    // Get team members
    rpc ListTeamMembers(TeamResourceListRequest) returns (ListTeamMembersResponse) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/teams/{team}/members"
        };
    }

    // Create team member
    rpc CreateTeamMember(TeamMemberBodyRequest) returns (TeamMember) {
        option (google.api.http) = {
            post: "/api/v1/orgs/{owner}/teams/{team}/members"
            body: "member"
        };
    }

    // Get team member details
    rpc GetTeamMember(TeamMemeberResourceRequest) returns (TeamMember) {
        option (google.api.http) = {
            get: "/api/v1/orgs/{owner}/teams/{team}/members/{user}"
        };
    }

    // Update team member
    rpc UpdateTeamMember(TeamMemberBodyRequest) returns (TeamMember) {
        option (google.api.http) = {
            put: "/api/v1/orgs/{owner}/teams/{team}/members/{member.user}"
            body: "member"
        };
    }

    // Patch tram member
    rpc PatchTeamMember(TeamMemberBodyRequest) returns (TeamMember) {
        option (google.api.http) = {
            patch: "/api/v1/orgs/{owner}/teams/{team}/members/{member.user}"
            body: "member"
        };
    }

    // Delete team member details
    rpc DeleteTeamMember(TeamMemeberResourceRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
            delete: "/api/v1/orgs/{owner}/teams/{team}/members/{user}"
        };
    }
}

// Service to manage teams
service SchemasV1 {
     // Get random
     rpc NoOp(google.protobuf.Empty) returns (Schemas) {
        option (google.api.http) = {
            get: "/schemas"
        };
    }
}

/**
 * Copyright 2018-2021 Polyaxon, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

syntax = "proto3";

package v1;

import "google/api/annotations.proto";
import "google/protobuf/empty.proto";
import "google/protobuf/struct.proto";
import "protoc-gen-swagger/options/annotations.proto";

import "v1/api/activities.proto";
import "v1/api/agent.proto";
import "v1/api/bookmarks.proto";
import "v1/api/connection.proto";
import "v1/api/dashboard.proto";
import "v1/api/base.proto";
import "v1/api/run.proto";
import "v1/api/organization.proto";
import "v1/api/project.proto";
import "v1/api/version.proto";
import "v1/api/auth.proto";
import "v1/api/preset.proto";
import "v1/api/user.proto";
import "v1/api/search.proto";
import "v1/api/status.proto";
import "v1/api/stage.proto";
import "v1/api/team.proto";
import "v1/api/hub.proto";
import "v1/api/registry.proto";
import "v1/polyboard/log.proto";
import "v1/polyboard/artifact.proto";
import "v1/polyboard/event.proto";
import "v1/schemas/all.proto";

option (grpc.gateway.protoc_gen_swagger.options.openapiv2_swagger) = {
	info: {
		title: "Polyaxon sdk";
        version: "1.11.0";
        contact:{
            name:"Polyaxon sdk";
            url:"https://github.com/polyaxon/polyaxon";
            email:"contact@polyaxon.com";
        };
    };
    schemes:HTTP;
    schemes:HTTPS;
    consumes:"application/json";
    produces:"application/json";
    security_definitions:{
        security:{
            key:"ApiKey";
            value:{
                type:TYPE_API_KEY;
                in:IN_HEADER;
                name:"Authorization";
            }
        }
    };
    security:{
        security_requirement:{
            key:"ApiKey";
            value:{};
        }
    };
    responses:{
        key:"204";
        value:{
            description:"No content.";
        }
    }
    responses:{
        key:"403";
        value:{
            description:"You don't have permission to access the resource.";
        }
    }
    responses:{
        key:"404";
        value:{
            description:"Resource does not exist.";
        }
    }
};

// Service to manage runs
service RunsV1 {
  // List bookmarked runs for user
  rpc ListBookmarkedRuns(UserResourceListRequest) returns (ListBookmarksResponse) {
    option (google.api.http) = {
      get: "/api/v1/bookmarks/{user}/runs"
    };
  }

  // List archived runs for user
  rpc ListArchivedRuns(UserResourceListRequest) returns (ListRunsResponse) {
    option (google.api.http) = {
      get: "/api/v1/archives/{user}/runs"
    };
  }

  // List runs
  rpc ListRuns(OwnerEntityResourceListRequestByName) returns (ListRunsResponse) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/{name}/runs"
    };
  }

  // Create new run
  rpc CreateRun(RunCreateBodyRequest) returns (Run) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/{project}/runs"
      body: "operation"
    };
  }

  // Get run
  rpc GetRun(OwnerSubEntityResourceRequestByUid) returns (Run) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/{entity}/runs/{uuid}"
    };
  }

  // Update run
  rpc UpdateRun(RunBodyRequest) returns (Run) {
    option (google.api.http) = {
      put: "/api/v1/{owner}/{project}/runs/{run.uuid}"
      body: "run"
    };
  }

  // Patch run
  rpc PatchRun(RunBodyRequest) returns (Run) {
    option (google.api.http) = {
      patch: "/api/v1/{owner}/{project}/runs/{run.uuid}"
      body: "run"
    };
  }

  // Delete run
  rpc DeleteRun(OwnerSubEntityResourceRequestByUid) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      delete: "/api/v1/{owner}/{entity}/runs/{uuid}"
    };
  }

  // Delete runs
  rpc DeleteRuns(ProjectResourceUuidsBodyRequest) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      delete: "/api/v1/{owner}/{project}/runs/delete"
      body: "uuids"
    };
  }

  // Sync offline run
  rpc SyncRun(RunBodyRequest) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/{project}/runs/sync"
      body: "run"
    };
  }

  // Stop run
  rpc StopRun(OwnerSubEntityResourceRequestByUid) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/{entity}/runs/{uuid}/stop"
    };
  }

  // Stop runs
  rpc StopRuns(ProjectResourceUuidsBodyRequest) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/{project}/runs/stop"
      body: "uuids"
    };
  }

  // Approve run
  rpc ApproveRun(OwnerSubEntityResourceRequestByUid) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/{entity}/runs/{uuid}/approve"
    };
  }

  // Approve runs
  rpc ApproveRuns(ProjectResourceUuidsBodyRequest) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/{project}/runs/approve"
      body: "uuids"
    };
  }

  // Tag runs
  rpc TagRuns(ProjectTagResourceUuidsBodyRequest) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/{project}/runs/tag"
      body: "data"
    };
  }

  // Invalidate run
  rpc InvalidateRun(OwnerSubEntityResourceRequestByUid) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/{entity}/runs/{uuid}/invalidate"
    };
  }

  // Invalidate runs
  rpc InvalidateRuns(ProjectResourceUuidsBodyRequest) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/{project}/runs/invalidate"
      body: "uuids"
    };
  }

  // Restart run with copy
  rpc CopyRun(RunBodyRequest) returns (Run) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/{project}/runs/{run.uuid}/copy"
      body: "run"
    };
  }

  // Restart run
  rpc RestartRun(RunBodyRequest) returns (Run) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/{project}/runs/{run.uuid}/restart"
      body: "run"
    };
  }

  // Resume run
  rpc ResumeRun(RunBodyRequest) returns (Run) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/{project}/runs/{run.uuid}/resume"
      body: "run"
    };
  }

  // Archive run
  rpc ArchiveRun(OwnerSubEntityResourceRequestByUid) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/{entity}/runs/{uuid}/archive"
    };
  }

  // Archive runs
  rpc ArchiveRuns(ProjectResourceUuidsBodyRequest) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/{project}/runs/archive"
      body: "uuids"
    };
  }

  // Restore run
  rpc RestoreRun(OwnerSubEntityResourceRequestByUid) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/{entity}/runs/{uuid}/restore"
    };
  }

  // Archive runs
  rpc RestoreRuns(ProjectResourceUuidsBodyRequest) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/{project}/runs/restore"
      body: "uuids"
    };
  }

  // Bookmark run
  rpc BookmarkRun(OwnerSubEntityResourceRequestByUid) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/{entity}/runs/{uuid}/bookmark"
    };
  }

  // Bookmark runs
  rpc BookmarkRuns(ProjectResourceUuidsBodyRequest) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/{project}/runs/bookmark"
      body: "uuids"
    };
  }

  // Unbookmark run
  rpc UnbookmarkRun(OwnerSubEntityResourceRequestByUid) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      delete: "/api/v1/{owner}/{entity}/runs/{uuid}/unbookmark"
    };
  }

  // Start run tensorboard
  rpc StartRunTensorboard(OwnerSubEntityResourceRequestByUid) returns (google.protobuf.Empty) {  // TODO: should be a tensorboard object
    option (google.api.http) = {
      post: "/api/v1/{owner}/{entity}/runs/{uuid}/tensorboard/start"
      body: "*"
    };
  }

  // Stop run tensorboard
  rpc StopRunTensorboard(OwnerSubEntityResourceRequestByUid) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/{entity}/runs/{uuid}/tensorboard/stop"
    };
  }

  // Get run statuses
  rpc GetRunStatuses(OwnerSubEntityResourceRequestByUid) returns (Status) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/{entity}/runs/{uuid}/statuses"
    };
  }

  // Create new run status
  rpc CreateRunStatus(EntityStatusBodyRequest) returns (Status) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/{project}/runs/{uuid}/statuses"
      body: "*"
    };
  }

  // Impersonate run token
  rpc ImpersonateToken(OwnerSubEntityResourceRequestByUid) returns (Auth) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/{entity}/runs/{uuid}/impersonate"
    };
  }

  // Get Run settings
  rpc GetRunSettings(OwnerSubEntityResourceRequestByUid) returns (RunSettings) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/{entity}/runs/{uuid}/settings"
    };
  }

  // Get Run namespace
  rpc GetRunNamespace(OwnerSubEntityResourceRequestByUid) returns (RunSettings) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/{entity}/runs/{uuid}/namespace"
    };
  }

  // Get run artifacts lineage
  rpc GetRunArtifactsLineage(OwnerSubEntityResourceListRequestByUid) returns (ListRunArtifactsResponse) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/{entity}/runs/{uuid}/lineage/artifacts"
    };
  }

  // Get runs artifacts lineage
  rpc GetRunsArtifactsLineage(OwnerEntityResourceListRequestByName) returns (ListRunArtifactsResponse) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/{name}/runs/lineage/artifacts"
    };
  }

  // Get run artifacts lineage names
  rpc GetRunArtifactsLineageNames(OwnerSubEntityResourceListRequestByUid) returns (ListRunArtifactsResponse) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/{entity}/runs/{uuid}/lineage/artifacts/names"
    };
  }

  // Create bulk run artifacts lineage
  rpc CreateRunArtifactsLineage(RunArtifactsRequest) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/{project}/runs/{uuid}/lineage/artifacts"
      body: "artifacts"
    };
  }

  // Delete run artifact lineage
  rpc DeleteRunArtifactLineage(RunArtifactLineageRequest) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      delete: "/api/v1/{owner}/{project}/runs/{uuid}/lineage/artifacts/{name}"
    };
  }

  // Get run artifacts lineage
  rpc GetRunArtifactLineage(RunArtifactLineageRequest) returns (RunArtifact) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/{project}/runs/{uuid}/lineage/artifacts/{name}"
    };
  }

  // Get run connections lineage
  rpc GetRunConnectionsLineage(OwnerSubEntityResourceListRequestByUid) returns (ListRunConnectionsResponse) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/{entity}/runs/{uuid}/lineage/connections"
    };
  }

  // Get run downstream lineage
  rpc GetRunDownstreamLineage(OwnerSubEntityResourceListRequestByUid) returns (ListRunEdgesResponse) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/{entity}/runs/{uuid}/lineage/downstream"
    };
  }

  // Get run upstream lineage
  rpc GetRunUpstreamLineage(OwnerSubEntityResourceListRequestByUid) returns (ListRunEdgesResponse) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/{entity}/runs/{uuid}/lineage/upstream"
    };
  }

  // Get run clones lineage
  rpc GetRunClonesLineage(OwnerSubEntityResourceListRequestByUid) returns (ListRunsResponse) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/{entity}/runs/{uuid}/lineage/clones"
    };
  }

  // Get run stats
  rpc GetRunStats(OwnerSubEntityStatsRequestByUid) returns (google.protobuf.Struct) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/{entity}/runs/{uuid}/stats"
    };
  }

  // Notify run status
  rpc NotifyRunStatus(EntityNotificationBody) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/streams/v1/{namespace}/{owner}/{project}/runs/{uuid}/notify"
      body: "*"
    };
  }

  // Get run logs
  rpc GetRunLogs(RunLogsRequest) returns (Logs) {
    option (google.api.http) = {
      get: "/streams/v1/{namespace}/{owner}/{project}/runs/{uuid}/logs"
    };
  }

  // Collect run logs
  rpc CollectRunLogs(CollectRunLogsRequest) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/streams/v1/{namespace}/_internal/{owner}/{project}/runs/{uuid}/{kind}/logs"
    };
  }

  // Get run resources events
  rpc GetRunResources(RunResourcesRequest) returns (EventsResponse) {
    option (google.api.http) = {
      get: "/streams/v1/{namespace}/{owner}/{project}/runs/{uuid}/resources"
    };
  }

  // Get run events
  rpc GetRunEvents(RunEventRequest) returns (EventsResponse) {
    option (google.api.http) = {
      get: "/streams/v1/{namespace}/{owner}/{project}/runs/{uuid}/events/{kind}"
    };
  }

  // Get multi runs events
  rpc GetMultiRunEvents(RunEventsRequest) returns (EventsResponse) {
    option (google.api.http) = {
      get: "/streams/v1/{namespace}/{owner}/{project}/runs/multi/events/{kind}"
    };
  }

  // Get run artifacts tree
  rpc GetRunArtifactsTree(RunArtifactsPathRequest) returns (ArtifactTree) {
    option (google.api.http) = {
      get: "/streams/v1/{namespace}/{owner}/{project}/runs/{uuid}/artifacts/tree"
    };
  }

  // Delete run artifact
  rpc DeleteRunArtifact(RunArtifactsPathRequest) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      delete: "/streams/v1/{namespace}/{owner}/{project}/runs/{uuid}/artifact"
    };
  }

  // Delete run artifacts
  rpc DeleteRunArtifacts(RunArtifactsPathRequest) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      delete: "/streams/v1/{namespace}/{owner}/{project}/runs/{uuid}/artifacts"
    };
  }

  // Inspect an active run full conditions
  rpc InspectRun(RunResourcesRequest) returns (google.protobuf.Struct) {
    option (google.api.http) = {
      get: "/streams/v1/{namespace}/{owner}/{project}/runs/{uuid}/k8s_inspect"
    };
  }
}

// Service to manage project
service ProjectsV1 {
  // Create new project
  rpc CreateProject(ProjectBodyRequest) returns (Project) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/projects/create"
      body: "project"
    };
  }

  // List projects
  rpc ListProjects(OwnerResourceListRequest) returns (ListProjectsResponse) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/projects/list"
    };
  }

  // List project names
  rpc ListProjectNames(OwnerResourceListRequest) returns (ListProjectsResponse) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/projects/names"
    };
  }

  // List bookmarked projects for user
  rpc ListBookmarkedProjects(UserResourceListRequest) returns (ListBookmarksResponse) {
    option (google.api.http) = {
      get: "/api/v1/bookmarks/{user}/projects"
    };
  }

  // List archived projects for user
  rpc ListArchivedProjects(UserResourceListRequest) returns (ListProjectsResponse) {
    option (google.api.http) = {
      get: "/api/v1/archives/{user}/projects"
    };
  }

  // Get project
  rpc GetProject(OwnerEntityResourceRequestByName) returns (Project) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/{name}"
    };
  }

  // Update project
  rpc UpdateProject(ProjectBodyRequest) returns (Project) {
    option (google.api.http) = {
      put: "/api/v1/{owner}/{project.name}"
      body: "project"
    };
  }

  // Patch project
  rpc PatchProject(ProjectBodyRequest) returns (Project) {
    option (google.api.http) = {
      patch: "/api/v1/{owner}/{project.name}"
      body: "project"
    };
  }

  // Delete project
  rpc DeleteProject(OwnerEntityResourceRequestByName) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      delete: "/api/v1/{owner}/{name}"
    };
  }

  // Archive project
  rpc ArchiveProject(OwnerEntityResourceRequestByName) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/{name}/archive"
    };
  }

  // Restore project
  rpc RestoreProject(OwnerEntityResourceRequestByName) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/{name}/restore"
    };
  }

  // Bookmark project
  rpc BookmarkProject(OwnerEntityResourceRequestByName) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/{name}/bookmark"
    };
  }

  // Unbookmark project
  rpc UnbookmarkProject(OwnerEntityResourceRequestByName) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      delete: "/api/v1/{owner}/{name}/unbookmark"
    };
  }

  // Enable project CI
  rpc EnableProjectCI(OwnerEntityResourceRequestByName) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/{name}/ci"
    };
  }

  // Get project stats
  rpc GetProjectStats(OwnerEntityStatsRequest) returns (google.protobuf.Struct) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/{name}/stats"
    };
  }

  // Get project activities
  rpc GetProjectActivities(OwnerEntityResourceListRequestByName) returns (ListActivitiesResponse) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/{name}/activities"
    };
  }

  // Disbale project CI
  rpc DisableProjectCI(OwnerEntityResourceRequestByName) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      delete: "/api/v1/{owner}/{name}/ci"
    };
  }

  // Get Project settings
  rpc GetProjectSettings(OwnerEntityResourceRequestByName) returns (ProjectSettings) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/{name}/settings"
    };
  }

  // Update project settings
  rpc UpdateProjectSettings(ProjectSettingsBodyRequest) returns (ProjectSettings) {
    option (google.api.http) = {
      put: "/api/v1/{owner}/{project}/settings"
      body: "settings"
    };
  }

  // Patch project settings
  rpc PatchProjectSettings(ProjectSettingsBodyRequest) returns (ProjectSettings) {
    option (google.api.http) = {
      patch: "/api/v1/{owner}/{project}/settings"
      body: "settings"
    };
  }
}

// Service to manage connections
service ConnectionsV1 {
  // List connections names
  rpc ListConnectionNames(OwnerResourceListRequest) returns (ListConnectionsResponse) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/connections/names"
    };
  }

  // List connections
  rpc ListConnections(OwnerResourceListRequest) returns (ListConnectionsResponse) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/connections"
    };
  }

  // Create connection
  rpc CreateConnection(ConnectionBodyRequest) returns (ConnectionResponse) {
    option (google.api.http) = {
      post: "/api/v1/orgs/{owner}/connections"
      body: "connection"
    };
  }

  // Get connection
  rpc GetConnection(OwnerEntityResourceRequestByUid) returns (ConnectionResponse) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/connections/{uuid}"
    };
  }

  // Update connection
  rpc UpdateConnection(ConnectionBodyRequest) returns (ConnectionResponse) {
    option (google.api.http) = {
      put: "/api/v1/orgs/{owner}/connections/{connection.uuid}"
      body: "connection"
    };
  }

  // Patch connection
  rpc PatchConnection(ConnectionBodyRequest) returns (ConnectionResponse) {
    option (google.api.http) = {
      patch: "/api/v1/orgs/{owner}/connections/{connection.uuid}"
      body: "connection"
    };
  }

  // Delete connection
  rpc DeleteConnection(OwnerEntityResourceRequestByUid) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      delete: "/api/v1/orgs/{owner}/connections/{uuid}"
    };
  }
}

// Service to manage project searches
service ProjectSearchesV1 {
  // List project search names
  rpc ListProjectSearchNames(OwnerEntityResourceListRequestByName) returns (ListSearchesResponse) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/{name}/searches/names"
    };
  }

  // List project searches
  rpc ListProjectSearches(OwnerEntityResourceListRequestByName) returns (ListSearchesResponse) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/{name}/searches"
    };
  }

  // Create project search
  rpc CreateProjectSearch(ProjectSearchBodyRequest) returns (Search) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/{project}/searches"
      body: "search"
    };
  }

  // Get project search
  rpc GetProjectSearch(OwnerSubEntityResourceRequestByUid) returns (Search) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/{entity}/searches/{uuid}"
    };
  }

  // Update project search
  rpc UpdateProjectSearch(ProjectSearchBodyRequest) returns (Search) {
    option (google.api.http) = {
      put: "/api/v1/{owner}/{project}/searches/{search.uuid}"
      body: "search"
    };
  }

  // Patch project search
  rpc PatchProjectSearch(ProjectSearchBodyRequest) returns (Search) {
    option (google.api.http) = {
      patch: "/api/v1/{owner}/{project}/searches/{search.uuid}"
      body: "search"
    };
  }

  // Delete project search
  rpc DeleteProjectSearch(OwnerSubEntityResourceRequestByUid) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      delete: "/api/v1/{owner}/{entity}/searches/{uuid}"
    };
  }

  // Promote project search
  rpc PromoteProjectSearch(OwnerSubEntityResourceRequestByUid) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/{entity}/searches/{uuid}/promote"
    };
  }
}

// Service to manage searches
service SearchesV1 {
  // List search names
  rpc ListSearchNames(OwnerResourceListRequest) returns (ListSearchesResponse) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/searches/names"
    };
  }

  // List searches
  rpc ListSearches(OwnerResourceListRequest) returns (ListSearchesResponse) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/searches"
    };
  }

  // Create search
  rpc CreateSearch(SearchBodyRequest) returns (Search) {
    option (google.api.http) = {
      post: "/api/v1/orgs/{owner}/searches"
      body: "search"
    };
  }

  // Get search
  rpc GetSearch(OwnerEntityResourceRequestByUid) returns (Search) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/searches/{uuid}"
    };
  }

  // Update search
  rpc UpdateSearch(SearchBodyRequest) returns (Search) {
    option (google.api.http) = {
      put: "/api/v1/orgs/{owner}/searches/{search.uuid}"
      body: "search"
    };
  }

  // Patch search
  rpc PatchSearch(SearchBodyRequest) returns (Search) {
    option (google.api.http) = {
      patch: "/api/v1/orgs/{owner}/searches/{search.uuid}"
      body: "search"
    };
  }

  // Delete search
  rpc DeleteSearch(OwnerEntityResourceRequestByUid) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      delete: "/api/v1/orgs/{owner}/searches/{uuid}"
    };
  }
}

// Service to manage project dashboards
service ProjectDashboardsV1 {
  // List project dashboard
  rpc ListProjectDashboardNames(OwnerEntityResourceListRequestByName) returns (ListDashboardsResponse) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/{name}/dashboards/names"
    };
  }

  // List project dashboards
  rpc ListProjectDashboards(OwnerEntityResourceListRequestByName) returns (ListDashboardsResponse) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/{name}/dashboards"
    };
  }

  // Create project dashboard
  rpc CreateProjectDashboard(ProjectDashboardBodyRequest) returns (Dashboard) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/{project}/dashboards"
      body: "dashboard"
    };
  }

  // Get project dashboard
  rpc GetProjectDashboard(OwnerSubEntityResourceRequestByUid) returns (Dashboard) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/{entity}/dashboards/{uuid}"
    };
  }

  // Update project dashboard
  rpc UpdateProjectDashboard(ProjectDashboardBodyRequest) returns (Dashboard) {
    option (google.api.http) = {
      put: "/api/v1/{owner}/{project}/dashboards/{dashboard.uuid}"
      body: "dashboard"
    };
  }

  // Patch project dashboard
  rpc PatchProjectDashboard(ProjectDashboardBodyRequest) returns (Dashboard) {
    option (google.api.http) = {
      patch: "/api/v1/{owner}/{project}/dashboards/{dashboard.uuid}"
      body: "dashboard"
    };
  }

  // Delete project dashboard
  rpc DeleteProjectDashboard(OwnerSubEntityResourceRequestByUid) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      delete: "/api/v1/{owner}/{entity}/dashboards/{uuid}"
    };
  }

  // Promote project dashboard
  rpc PromoteProjectDashboard(OwnerSubEntityResourceRequestByUid) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/{entity}/dashboards/{uuid}/promote"
    };
  }
}

// Service to manage dashboards
service DashboardsV1 {
  // List dashboard names
  rpc ListDashboardNames(OwnerResourceListRequest) returns (ListDashboardsResponse) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/dashboards/names"
    };
  }

  // List dashboards
  rpc ListDashboards(OwnerResourceListRequest) returns (ListDashboardsResponse) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/dashboards"
    };
  }

  // Create dashboard
  rpc CreateDashboard(DashboardBodyRequest) returns (Dashboard) {
    option (google.api.http) = {
      post: "/api/v1/orgs/{owner}/dashboards"
      body: "dashboard"
    };
  }

  // Get dashboard
  rpc GetDashboard(OwnerEntityResourceRequestByUid) returns (Dashboard) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/dashboards/{uuid}"
    };
  }

  // Update dashboard
  rpc UpdateDashboard(DashboardBodyRequest) returns (Dashboard) {
    option (google.api.http) = {
      put: "/api/v1/orgs/{owner}/dashboards/{dashboard.uuid}"
      body: "dashboard"
    };
  }

  // Patch dashboard
  rpc PatchDashboard(DashboardBodyRequest) returns (Dashboard) {
    option (google.api.http) = {
      patch: "/api/v1/orgs/{owner}/dashboards/{dashboard.uuid}"
      body: "dashboard"
    };
  }

  // Delete dashboard
  rpc DeleteDashboard(OwnerEntityResourceRequestByUid) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      delete: "/api/v1/orgs/{owner}/dashboards/{uuid}"
    };
  }
}

// Service to manage models on a hosted polyaxon hub
service ModelRegistryV1 {
  // Create registry model
  rpc CreateModelRegistry(ModelRegistryBodyRequest) returns (ModelRegistry) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/registry/create"
      body: "model"
    };
  }

  // List registry models
  rpc ListModelRegistries(OwnerResourceListRequest) returns (ListModelRegistriesResponse) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/registry/list"
    };
  }

  // List registry model names
  rpc ListModelRegistryNames(OwnerResourceListRequest) returns (ListModelRegistriesResponse) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/registry/names"
    };
  }

  // Get registry model
  rpc GetModelRegistry(OwnerEntityResourceRequestByName) returns (ModelRegistry) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/registry/{name}"
    };
  }

  // Update registry model
  rpc UpdateModelRegistry(ModelRegistryBodyRequest) returns (ModelRegistry) {
    option (google.api.http) = {
      put: "/api/v1/{owner}/registry/{model.name}"
      body: "model"
    };
  }

  // Patch registry model
  rpc PatchModelRegistry(ModelRegistryBodyRequest) returns (ModelRegistry) {
    option (google.api.http) = {
      patch: "/api/v1/{owner}/registry/{model.name}"
      body: "model"
    };
  }

  // Delete registry model
  rpc DeleteModelRegistry(OwnerEntityResourceRequestByName) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      delete: "/api/v1/{owner}/registry/{name}"
    };
  }

  // Archive registry model
  rpc ArchiveModelRegistry(OwnerEntityResourceRequestByName) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/registry/{name}/archive"
    };
  }

  // Restore registry model
  rpc RestoreModelRegistry(OwnerEntityResourceRequestByName) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/registry/{name}/restore"
    };
  }

  // Bookmark registry model
  rpc BookmarkModelRegistry(OwnerEntityResourceRequestByName) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/registry/{name}/bookmark"
    };
  }

  // Unbookmark registry model
  rpc UnbookmarkModelRegistry(OwnerEntityResourceRequestByName) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      delete: "/api/v1/{owner}/registry/{name}/unbookmark"
    };
  }

  // Get registry model settings
  rpc GetModelRegistrySettings(OwnerEntityResourceRequestByName) returns (ModelRegistrySettings) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/registry/{name}/settings"
    };
  }

  // Update registry model settings
  rpc UpdateModelRegistrySettings(ModelRegistrySettingsBodyRequest) returns (ModelRegistrySettings) {
    option (google.api.http) = {
      put: "/api/v1/{owner}/registry/{model}/settings"
      body: "settings"
    };
  }

  // Patch registry model settings
  rpc PatchModelRegistrySettings(ModelRegistrySettingsBodyRequest) returns (ModelRegistrySettings) {
    option (google.api.http) = {
      patch: "/api/v1/{owner}/registry/{model}/settings"
      body: "settings"
    };
  }

  // Get model activities
  rpc GetModelRegistryActivities(OwnerEntityResourceListRequestByName) returns (ListActivitiesResponse) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/registry/{name}/activities"
    };
  }

  // Create model version
  rpc CreateModelVersion(ModelVersionBodyRequest) returns (ModelVersion) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/registry/{model}/versions"
      body: "version"
    };
  }

  // List model versions
  rpc ListModelVersions(OwnerEntityResourceListRequestByName) returns (ListModelVersionsResponse) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/registry/{name}/versions"
    };
  }

  // List model versions names
  rpc ListModelVersionNames(OwnerEntityResourceListRequestByName) returns (ListModelVersionsResponse) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/registry/{name}/versions/names"
    };
  }

  // Get model version
  rpc GetModelVersion(OwnerSubEntityResourceRequestByName) returns (ModelVersion) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/registry/{entity}/versions/{name}"
    };
  }

  // Update model version
  rpc UpdateModelVersion(ModelVersionBodyRequest) returns (ModelVersion) {
    option (google.api.http) = {
      put: "/api/v1/{owner}/registry/{model}/versions/{version.name}"
      body: "version"
    };
  }

  // Patch model version
  rpc PatchModelVersion(ModelVersionBodyRequest) returns (ModelVersion) {
    option (google.api.http) = {
      patch: "/api/v1/{owner}/registry/{model}/versions/{version.name}"
      body: "version"
    };
  }

  // Delete model version
  rpc DeleteModelVersion(OwnerSubEntityResourceRequestByName) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      delete: "/api/v1/{owner}/registry/{entity}/versions/{name}"
    };
  }

  // Get model version stages
  rpc GetModelVersionStages(OwnerSubEntityResourceRequestByName) returns (Stage) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/registry/{entity}/versions/{name}/stages"
    };
  }

  // Create new model version stage
  rpc CreateModelVersionStage(EntityStageBodyRequest) returns (Stage) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/registry/{entity}/versions/{name}/stages"
      body: "*"
    };
  }
}

// Service to manage component on a hosted polyaxon hub
service ComponentHubV1 {
  // Create hub component
  rpc CreateComponentHub(ComponentHubBodyRequest) returns (ComponentHub) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/hub/create"
      body: "component"
    };
  }

  // List hub components
  rpc ListComponentHubs(OwnerResourceListRequest) returns (ListComponentHubsResponse) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/hub/list"
    };
  }

  // List hub component names
  rpc ListComponentHubNames(OwnerResourceListRequest) returns (ListComponentHubsResponse) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/hub/names"
    };
  }

  // Get hub component
  rpc GetComponentHub(OwnerEntityResourceRequestByName) returns (ComponentHub) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/hub/{name}"
    };
  }

  // Update hub component
  rpc UpdateComponentHub(ComponentHubBodyRequest) returns (ComponentHub) {
    option (google.api.http) = {
      put: "/api/v1/{owner}/hub/{component.name}"
      body: "component"
    };
  }

  // Patch hub component
  rpc PatchComponentHub(ComponentHubBodyRequest) returns (ComponentHub) {
    option (google.api.http) = {
      patch: "/api/v1/{owner}/hub/{component.name}"
      body: "component"
    };
  }

  // Delete hub component
  rpc DeleteComponentHub(OwnerEntityResourceRequestByName) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      delete: "/api/v1/{owner}/hub/{name}"
    };
  }

  // Archive hub component
  rpc ArchiveComponentHub(OwnerEntityResourceRequestByName) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/hub/{name}/archive"
    };
  }

  // Restore hub component
  rpc RestoreComponentHub(OwnerEntityResourceRequestByName) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/hub/{name}/restore"
    };
  }

  // Bookmark component hub
  rpc BookmarkComponentHub(OwnerEntityResourceRequestByName) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/hub/{name}/bookmark"
    };
  }

  // Unbookmark component hub
  rpc UnbookmarkComponentHub(OwnerEntityResourceRequestByName) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      delete: "/api/v1/{owner}/hub/{name}/unbookmark"
    };
  }

  // Get hub component settings
  rpc GetComponentHubSettings(OwnerEntityResourceRequestByName) returns (ComponentHubSettings) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/hub/{name}/settings"
    };
  }

  // Update hub component settings
  rpc UpdateComponentHubSettings(ComponentHubSettingsBodyRequest) returns (ComponentHubSettings) {
    option (google.api.http) = {
      put: "/api/v1/{owner}/hub/{component}/settings"
      body: "settings"
    };
  }

  // Patch hub component settings
  rpc PatchComponentHubSettings(ComponentHubSettingsBodyRequest) returns (ComponentHubSettings) {
    option (google.api.http) = {
      patch: "/api/v1/{owner}/hub/{component}/settings"
      body: "settings"
    };
  }

  // Get hub activities
  rpc GetComponentHubActivities(OwnerEntityResourceListRequestByName) returns (ListActivitiesResponse) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/hub/{name}/activities"
    };
  }

  // Create component version
  rpc CreateComponentVersion(ComponentVersionBodyRequest) returns (ComponentVersion) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/hub/{component}/versions"
      body: "version"
    };
  }

  // List component versions
  rpc ListComponentVersions(OwnerEntityResourceListRequestByName) returns (ListComponentVersionsResponse) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/hub/{name}/versions"
    };
  }

  // List component version names
  rpc ListComponentVersionNames(OwnerEntityResourceListRequestByName) returns (ListComponentVersionsResponse) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/hub/{name}/versions/names"
    };
  }

  // Get component version
  rpc GetComponentVersion(OwnerSubEntityResourceRequestByName) returns (ComponentVersion) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/hub/{entity}/versions/{name}"
    };
  }

  // Update component version
  rpc UpdateComponentVersion(ComponentVersionBodyRequest) returns (ComponentVersion) {
    option (google.api.http) = {
      put: "/api/v1/{owner}/hub/{component}/versions/{version.name}"
      body: "version"
    };
  }

  // Patch component version
  rpc PatchComponentVersion(ComponentVersionBodyRequest) returns (ComponentVersion) {
    option (google.api.http) = {
      patch: "/api/v1/{owner}/hub/{component}/versions/{version.name}"
      body: "version"
    };
  }

  // Delete component version
  rpc DeleteComponentVersion(OwnerSubEntityResourceRequestByName) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      delete: "/api/v1/{owner}/hub/{entity}/versions/{name}"
    };
  }

  // Get component version stages
  rpc GetComponentVersionStages(OwnerSubEntityResourceRequestByName) returns (Stage) {
    option (google.api.http) = {
      get: "/api/v1/{owner}/hub/{entity}/versions/{name}/stages"
    };
  }

  // Create new component version stage
  rpc CreateComponentVersionStage(EntityStageBodyRequest) returns (Stage) {
    option (google.api.http) = {
      post: "/api/v1/{owner}/hub/{entity}/versions/{name}/stages"
      body: "*"
    };
  }
}

// Service to manage scheduling presets
service PresetsV1 {
  // List scheduling presets names
  rpc ListPresetNames(OwnerResourceListRequest) returns (ListPresetsResponse) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/presets/names"
    };
  }

  // List scheduling presets
  rpc ListPresets(OwnerResourceListRequest) returns (ListPresetsResponse) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/presets"
    };
  }

  // Create scheduling presets
  rpc CreatePreset(PresetBodyRequest) returns (Preset) {
    option (google.api.http) = {
      post: "/api/v1/orgs/{owner}/presets"
      body: "preset"
    };
  }

  // Get scheduling preset
  rpc GetPreset(OwnerSubEntityResourceRequestByUid) returns (Preset) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/presets/{uuid}"
    };
  }

  // Update scheduling preset
  rpc UpdatePreset(PresetBodyRequest) returns (Preset) {
    option (google.api.http) = {
      put: "/api/v1/orgs/{owner}/presets/{preset.uuid}"
      body: "preset"
    };
  }

  // Patch scheduling preset
  rpc PatchPreset(PresetBodyRequest) returns (Preset) {
    option (google.api.http) = {
      patch: "/api/v1/orgs/{owner}/presets/{preset.uuid}"
      body: "preset"
    };
  }

  // Delete scheduling preset
  rpc DeletePreset(OwnerSubEntityResourceRequestByUid) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      delete: "/api/v1/orgs/{owner}/presets/{uuid}"
    };
  }
}

// Service to manage agents
service AgentsV1 {
  // List agents names
  rpc ListAgentNames(OwnerResourceListRequest) returns (ListAgentsResponse) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/agents/names"
    };
  }

  // List agents
  rpc ListAgents(OwnerResourceListRequest) returns (ListAgentsResponse) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/agents"
    };
  }

  // Create agent
  rpc CreateAgent(AgentBodyRequest) returns (Agent) {
    option (google.api.http) = {
      post: "/api/v1/orgs/{owner}/agents"
      body: "agent"
    };
  }

  // Get agent
  rpc GetAgent(OwnerSubEntityResourceRequestByUid) returns (Agent) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/agents/{uuid}"
    };
  }

  // Update agent
  rpc UpdateAgent(AgentBodyRequest) returns (Agent) {
    option (google.api.http) = {
      put: "/api/v1/orgs/{owner}/agents/{agent.uuid}"
      body: "agent"
    };
  }

  // Patch agent
  rpc PatchAgent(AgentBodyRequest) returns (Agent) {
    option (google.api.http) = {
      patch: "/api/v1/orgs/{owner}/agents/{agent.uuid}"
      body: "agent"
    };
  }

  // Delete agent
  rpc DeleteAgent(OwnerSubEntityResourceRequestByUid) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      delete: "/api/v1/orgs/{owner}/agents/{uuid}"
    };
  }

  // Get State (queues/runs)
  rpc GetAgentState(OwnerEntityResourceRequestByUid) returns (AgentStateResponse) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/agents/{uuid}/state"
    };
  }

  // Sync agent
  rpc SyncAgent(AgentBodyRequest) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      patch: "/api/v1/orgs/{owner}/agents/{agent.uuid}/sync"
      body: "agent"
    };
  }

  // Get agent config
  rpc GetAgentConfig(OwnerSubEntityResourceRequestByUid) returns (Agent) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/agents/{uuid}/config"
    };
  }

  // Update agent config
  rpc UpdateAgentConfig(AgentBodyRequest) returns (Agent) {
    option (google.api.http) = {
      patch: "/api/v1/orgs/{owner}/agents/{agent.uuid}/config"
      body: "agent"
    };
  }

  // Create new run status
  rpc CreateAgentStatus(AgentStatusBodyRequest) returns (Status) {
    option (google.api.http) = {
      post: "/api/v1/orgs/{owner}/agents/{uuid}/statuses"
      body: "*"
    };
  }

  // Get agent token
  rpc GetAgentToken(OwnerEntityResourceRequestByUid) returns (Token) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/agents/{uuid}/token"
    };
  }

  // Update agent token
  rpc UpdateAgentToken(AgentTokenBodyRequest) returns (Token) {
    option (google.api.http) = {
      put: "/api/v1/orgs/{owner}/agents/{agent}/token"
      body: "token"
    };
  }

  // Patch agent token
  rpc PatchAgentToken(AgentTokenBodyRequest) returns (Token) {
    option (google.api.http) = {
      patch: "/api/v1/orgs/{owner}/agents/{agent}/token"
      body: "token"
    };
  }
}

// Service to manage queues
service QueuesV1 {
  // List organization level queues names
  rpc ListOrganizationQueueNames(OwnerResourceListRequest) returns (ListQueuesResponse) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/queues/names"
    };
  }

  // List organization level queues
  rpc ListOrganizationQueues(OwnerResourceListRequest) returns (ListQueuesResponse) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/queues"
    };
  }

  // List queues names
  rpc ListQueueNames(OwnerEntityResourceListRequestByName) returns (ListQueuesResponse) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/agents/{name}/queues/names"
    };
  }

  // List queues
  rpc ListQueues(OwnerEntityResourceListRequestByName) returns (ListQueuesResponse) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/agents/{name}/queues"
    };
  }

  // Create queue
  rpc CreateQueue(QueueBodyRequest) returns (Queue) {
    option (google.api.http) = {
      post: "/api/v1/orgs/{owner}/agents/{agent}/queues"
      body: "queue"
    };
  }

  // Get queue
  rpc GetQueue(OwnerSubEntityResourceRequestByUid) returns (Queue) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/agents/{entity}/queues/{uuid}"
    };
  }

  // Update queue
  rpc UpdateQueue(QueueBodyRequest) returns (Queue) {
    option (google.api.http) = {
      put: "/api/v1/orgs/{owner}/agents/{agent}/queues/{queue.uuid}"
      body: "queue"
    };
  }

  // Patch queue
  rpc PatchQueue(QueueBodyRequest) returns (Queue) {
    option (google.api.http) = {
      patch: "/api/v1/orgs/{owner}/agents/{agent}/queues/{queue.uuid}"
      body: "queue"
    };
  }

  // Delete queue
  rpc DeleteQueue(OwnerSubEntityResourceRequestByUid) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      delete: "/api/v1/orgs/{owner}/agents/{entity}/queues/{uuid}"
    };
  }
}

// Service to manage auth
service AuthV1 {
  // Trial Start
  rpc Trial(TrialStart) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/api/v1/auth/trial"
      body: "*"
    };
  }

  // Login
  rpc Login(Credentials) returns (Auth) {
    option (google.api.http) = {
      post: "/api/v1/auth/token"
      body: "*"
    };
  }

  // Signup
  rpc Signup(UserSingup) returns (Auth) {
    option (google.api.http) = {
      post: "/api/v1/auth/signup"
      body: "*"
    };
  }

  // Reset password
  rpc ResetPassword(UserEmail) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/api/v1/auth/reset-password"
      body: "*"
    };
  }

  // Reset password confirm
  rpc ResetPasswordConfirm(PasswordChange) returns (Auth) {
    option (google.api.http) = {
      post: "/api/v1/auth/reset-password-confirm"
      body: "*"
    };
  }

  // Change password
  rpc ChangePassword(PasswordChange) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/api/v1/auth/change-password"
      body: "*"
    };
  }
}

// Service to get user level infotmation
service UsersV1 {
  // Get current user
  rpc GetUser(google.protobuf.Empty) returns (User) {
    option (google.api.http) = {
      get: "/api/v1/users"
    };
  }
  // Update current user
  rpc UpdateUser(User) returns (User) {
    option (google.api.http) = {
      put: "/api/v1/users"
      body: "*"
    };
  }

  // Patch current user
  rpc PatchUser(User) returns (User) {
    option (google.api.http) = {
      patch: "/api/v1/users"
      body: "*"
    };
  }

  // List tokens
  rpc ListTokens(ResourceListRequest) returns (ListTokenResponse) {
    option (google.api.http) = {
      get: "/api/v1/users/tokens"
    };
  }

  // Create token
  rpc CreateToken(TokenBodyRequest) returns (Token) {
    option (google.api.http) = {
      post: "/api/v1/users/tokens"
      body: "token"
    };
  }

  // Get token
  rpc GetToken(UuidResourceRequest) returns (Token) {
    option (google.api.http) = {
      get: "/api/v1/users/tokens/{uuid}"
    };
  }

  // Update token
  rpc UpdateToken(TokenBodyRequest) returns (Token) {
    option (google.api.http) = {
      put: "/api/v1/users/tokens/{token.uuid}"
      body: "token"
    };
  }

  // Patch token
  rpc PatchToken(TokenBodyRequest) returns (Token) {
    option (google.api.http) = {
      patch: "/api/v1/users/tokens/{token.uuid}"
      body: "token"
    };
  }

  // Delete token
  rpc DeleteToken(UuidResourceRequest) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      delete: "/api/v1/users/tokens/{uuid}"
    };
  }
}

// Service to get versions
service VersionsV1 {
  // Get installation versions
  rpc GetInstallation(InstallationResourceRequest) returns (Installation) {
    option (google.api.http) = {
      get: "/api/v1/installation"
    };
  }

  // Get compatibility versions
  rpc GetCompatibility(ServiceResourceRequest) returns (Compatibility) {
    option (google.api.http) = {
      get: "/api/v1/compatibility/{uuid}/{version}/{service}"
    };
  }

  // Get log handler versions
  rpc GetLogHandler(google.protobuf.Empty) returns (LogHandler) {
    option (google.api.http) = {
      get: "/api/v1/log_handler"
    };
  }
}

// Service to manage organizations
service OrganizationsV1 {
  // List organizations names
  rpc ListOrganizationNames(google.protobuf.Empty) returns (ListOrganizationsResponse) {
    option (google.api.http) = {
      get: "/api/v1/orgs/names"
    };
  }

  // List organizations
  rpc ListOrganizations(google.protobuf.Empty) returns (ListOrganizationsResponse) {
    option (google.api.http) = {
      get: "/api/v1/orgs/list"
    };
  }

  // Create organization
  rpc CreateOrganization(Organization) returns (Organization) {
    option (google.api.http) = {
      post: "/api/v1/orgs/create"
      body: "*"
    };
  }

  // Get organization
  rpc GetOrganization(OwnerResourceRequest) returns (Organization) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}"
    };
  }

  // Update organization
  rpc UpdateOrganization(OrganizationBodyRequest) returns (Organization) {
    option (google.api.http) = {
      put: "/api/v1/orgs/{owner}"
      body: "organization"
    };
  }

  // Patch organization
  rpc PatchOrganization(OrganizationBodyRequest) returns (Organization) {
    option (google.api.http) = {
      patch: "/api/v1/orgs/{owner}"
      body: "organization"
    };
  }

  // Delete organization
  rpc DeleteOrganization(OwnerResourceRequest) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      delete: "/api/v1/orgs/{owner}"
    };
  }

  // Get organization stats
  rpc GetOrganizationStats(OwnerStatsRequest) returns (google.protobuf.Struct) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/stats"
    };
  }

  // Get organization activities
  rpc GetOrganizationActivities(OwnerResourceListRequest) returns (ListActivitiesResponse) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/activities"
    };
  }

  // Get organization members
  rpc ListOrganizationMembers(OwnerResourceListRequest) returns (ListOrganizationMembersResponse) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/members"
    };
  }

  // Get organization member names
  rpc ListOrganizationMemberNames(OwnerResourceListRequest) returns (ListOrganizationMembersResponse) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/members/names"
    };
  }

  // Create organization member
  rpc CreateOrganizationMember(OrganizationMemberBodyRequest) returns (OrganizationMember) {
    option (google.api.http) = {
      post: "/api/v1/orgs/{owner}/members"
      body: "member"
    };
  }

  // Get organization member details
  rpc GetOrganizationMember(OwnerEntityResourceRequestByName) returns (OrganizationMember) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/members/{name}"
    };
  }

  // Update organization member
  rpc UpdateOrganizationMember(OrganizationMemberBodyRequest) returns (OrganizationMember) {
    option (google.api.http) = {
      put: "/api/v1/orgs/{owner}/members/{member.user}"
      body: "member"
    };
  }

  // Patch organization member
  rpc PatchOrganizationMember(OrganizationMemberBodyRequest) returns (OrganizationMember) {
    option (google.api.http) = {
      patch: "/api/v1/orgs/{owner}/members/{member.user}"
      body: "member"
    };
  }

  // Delete organization member details
  rpc DeleteOrganizationMember(OwnerEntityResourceRequestByName) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      delete: "/api/v1/orgs/{owner}/members/{name}"
    };
  }

  // Get organization invitation details
  rpc GetOrganizationInvitation(OrganizationMemberBodyRequest) returns (OrganizationMember) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/invitations"
    };
  }

  // Update organization invitation
  rpc UpdateOrganizationInvitation(OrganizationMemberBodyRequest) returns (OrganizationMember) {
    option (google.api.http) = {
      put: "/api/v1/orgs/{owner}/invitations"
      body: "member"
    };
  }

  // Patch organization invitation
  rpc PatchOrganizationInvitation(OrganizationMemberBodyRequest) returns (OrganizationMember) {
    option (google.api.http) = {
      patch: "/api/v1/orgs/{owner}/invitations"
      body: "member"
    };
  }

  // Resend organization invitation
  rpc ResendOrganizationInvitation(OrganizationMemberBodyRequest) returns (OrganizationMember) {
    option (google.api.http) = {
      post: "/api/v1/orgs/{owner}/invitations"
      body: "member"
    };
  }

  // Delete organization invitation details
  rpc DeleteOrganizationInvitation(OrganizationMemberBodyRequest) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      delete: "/api/v1/orgs/{owner}/invitations"
    };
  }

  // Get organization settings
  rpc GetOrganizationSettings(OrganizationBodyRequest) returns (Organization) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/settings"
    };
  }

  // Update organization settings
  rpc UpdateOrganizationSettings(OrganizationBodyRequest) returns (Organization) {
    option (google.api.http) = {
      put: "/api/v1/orgs/{owner}/settings"
      body: "organization"
    };
  }

  // Patch oranization settings
  rpc PatchOrganizationSettings(OrganizationBodyRequest) returns (Organization) {
    option (google.api.http) = {
      patch: "/api/v1/orgs/{owner}/settings"
      body: "organization"
    };
  }

  // Organization plan
  rpc OrganizationPlan(OrganizationBodyRequest) returns (Organization) {
    option (google.api.http) = {
      post: "/api/v1/orgs/{owner}/plan"
      body: "organization"
    };
  }
}

// Service to manage teams
service TeamsV1 {
  // List teams names
  rpc ListTeamNames(OwnerResourceListRequest) returns (ListTeamsResponse) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/teams/names"
    };
  }

  // List teams
  rpc ListTeams(OwnerResourceListRequest) returns (ListTeamsResponse) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/teams"
    };
  }

  // Create team
  rpc CreateTeam(TeamBodyRequest) returns (Team) {
    option (google.api.http) = {
      post: "/api/v1/orgs/{owner}/teams"
      body: "team"
    };
  }

  // Get team
  rpc GetTeam(OwnerEntityResourceRequestByName) returns (Team) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/teams/{name}"
    };
  }

  // Update team
  rpc UpdateTeam(TeamBodyRequest) returns (Team) {
    option (google.api.http) = {
      put: "/api/v1/orgs/{owner}/teams/{team.name}"
      body: "team"
    };
  }

  // Patch team
  rpc PatchTeam(TeamBodyRequest) returns (Team) {
    option (google.api.http) = {
      patch: "/api/v1/orgs/{owner}/teams/{team.name}"
      body: "team"
    };
  }

  // Delete team
  rpc DeleteTeam(OwnerEntityResourceRequestByName) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      delete: "/api/v1/orgs/{owner}/teams/{name}"
    };
  }

  // Get team members
  rpc ListTeamMembers(OwnerEntityResourceListRequestByName) returns (ListTeamMembersResponse) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/teams/{name}/members"
    };
  }

  // Create team member
  rpc CreateTeamMember(TeamMemberBodyRequest) returns (TeamMember) {
    option (google.api.http) = {
      post: "/api/v1/orgs/{owner}/teams/{team}/members"
      body: "member"
    };
  }

  // Get team member details
  rpc GetTeamMember(TeamMemeberResourceRequest) returns (TeamMember) {
    option (google.api.http) = {
      get: "/api/v1/orgs/{owner}/teams/{team}/members/{user}"
    };
  }

  // Update team member
  rpc UpdateTeamMember(TeamMemberBodyRequest) returns (TeamMember) {
    option (google.api.http) = {
      put: "/api/v1/orgs/{owner}/teams/{team}/members/{member.user}"
      body: "member"
    };
  }

  // Patch team member
  rpc PatchTeamMember(TeamMemberBodyRequest) returns (TeamMember) {
    option (google.api.http) = {
      patch: "/api/v1/orgs/{owner}/teams/{team}/members/{member.user}"
      body: "member"
    };
  }

  // Delete team member details
  rpc DeleteTeamMember(TeamMemeberResourceRequest) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      delete: "/api/v1/orgs/{owner}/teams/{team}/members/{user}"
    };
  }
}

// Service noop
service SchemasV1 {
  // NoOp
  rpc NoOp(google.protobuf.Empty) returns (Schemas) {
    option (google.api.http) = {
      get: "/schemas"
    };
  }
}
